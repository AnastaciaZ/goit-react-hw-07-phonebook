(this["webpackJsonpgoit-react-hw-03-phonebook"]=this["webpackJsonpgoit-react-hw-03-phonebook"]||[]).push([[0],{13:function(t,e,n){t.exports={contactsForm:"ContactForm_contactsForm__1XUBs",labelForm:"ContactForm_labelForm__9EDxR",contactInput:"ContactForm_contactInput__qosE9"}},14:function(t,e,n){t.exports={container:"Alert_container__3VxwC",textMessage:"Alert_textMessage__2aRd9",enter:"Alert_enter__3SU9H",enterActive:"Alert_enterActive__12UDh",exit:"Alert_exit__18YFn",exitActive:"Alert_exitActive__1dmc2"}},16:function(t,e,n){t.exports={contactList:"ContactList_contactList__3kVSb",contactText:"ContactList_contactText__3Q3gm",enter:"ContactList_enter__2lAwM",enterActive:"ContactList_enterActive__2EctL",exit:"ContactList_exit__3hO4c",exitActive:"ContactList_exitActive__2qMQb"}},17:function(t,e,n){t.exports={container:"Filter_container__1KDKI",labelFilter:"Filter_labelFilter__1NsG3",filterInput:"Filter_filterInput__2424a",enter:"Filter_enter__1LaFg",enterActive:"Filter_enterActive__5H4a5",exit:"Filter_exit__34H4E",exitActive:"Filter_exitActive__37K-s"}},31:function(t,e,n){t.exports={logo:"Logo_logo__1FZuX",appear:"Logo_appear__3DfFo",appearActive:"Logo_appearActive__30EVt"}},32:function(t,e,n){t.exports={container:"App_container__2tj7q",loading:"App_loading__2pxWz"}},44:function(t,e,n){t.exports={button:"Button_button__LdHG_"}},83:function(t,e,n){"use strict";n.r(e);var c=n(1),a=n(0),r=n.n(a),o=n(9),s=n.n(o),i=(n(52),n(8)),u=n(21),l=n(22),b=n(25),j=n(23),m=n(4),d=n(84),f=n(15),O=n.n(f),_=n(2),h=Object(_.b)("contacts/fetchContactRequest"),p=Object(_.b)("contacts/fetchContactSuccess"),x=Object(_.b)("contacts/fetchContactError"),g=Object(_.b)("contacts/addContactRequest"),C=Object(_.b)("contacts/addContactSuccess"),v=Object(_.b)("contacts/addContactError"),F=Object(_.b)("contacts/deleteContactRequest"),A=Object(_.b)("contacts/deleteContactSuccess"),N=Object(_.b)("contacts/deleteContactError"),L=Object(_.b)("contacts/changeFilter");O.a.defaults.baseURL="http://localhost:4040";var y,S,I={fetchContacts:function(){return function(t){t(h()),O.a.get("/contacts").then((function(e){var n=e.data;return t(p(n))})).catch((function(e){return t(x(e))}))}},addContact:function(t,e){return function(n){var c={name:t,number:e};n(g()),O.a.post("/contacts",c).then((function(t){var e=t.data;return n(C(e))})).catch((function(t){return n(v(t))}))}},deleteContact:function(t){return function(e){e(F()),O.a.delete("/contacts/".concat(t)).then((function(){return e(A(t))})).catch((function(t){return e(N(t))}))}}},k=n(43),w=n.n(k),E=n(44),D=n.n(E),T=function(t){var e=t.label,n=t.type,a=void 0===n?"button":n,r=t.onClick,o=void 0===r?function(){return null}:r;return Object(c.jsx)("button",{className:D.a.button,type:a,onClick:o,children:e})},q=n(14),M=n.n(q),R=function(t){var e=t.message;return Object(c.jsx)("div",{className:M.a.container,children:Object(c.jsx)("p",{className:M.a.textMessage,children:e})})},H=n(13),U=n.n(H),K=n(20),P=function(t){return t.contacts.filter},V=function(t){return t.contacts.items},z={getLoading:function(t){return t.contacts.loading},getFilterName:P,getAllContacts:V,getFilterContacts:Object(K.a)([V,P],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))}))},B=function(t){Object(b.a)(n,t);var e=Object(j.a)(n);function n(){var t;Object(u.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={name:"",number:"",message:null},t.nameInputId=w.a.generate(),t.handleChange=function(e){var n=e.currentTarget,c=n.name,a=n.value;t.setState(Object(m.a)({},c,a))},t.handleSubmit=function(e){e.preventDefault(),""!==t.state.name?""!==t.state.number?t.props.items.some((function(e){return e.name===t.state.name}))?t.setState({message:"".concat(t.state.name," is already in contacts!")})||setTimeout((function(){t.setState({message:null})}),2e3):(t.props.onSubmit(t.state.name,t.state.number),t.reset()):t.setState({message:"Please enter contact number"})||setTimeout((function(){t.setState({message:null})}),2e3):t.setState({message:"Please enter contact name"})||setTimeout((function(){t.setState({message:null})}),2e3)},t.reset=function(){t.setState({name:"",number:""})},t}return Object(l.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number,a=t.message;return Object(c.jsxs)("form",{className:U.a.contactsForm,onSubmit:this.handleSubmit,children:[Object(c.jsxs)("label",{htmlFor:this.nameInputId,className:U.a.labelForm,children:["Name",Object(c.jsx)("br",{}),Object(c.jsx)("input",{className:U.a.contactInput,type:"text",name:"name",value:e,onChange:this.handleChange,id:this.nameInputId})]}),Object(c.jsx)("br",{}),Object(c.jsxs)("label",{className:U.a.labelForm,children:["Number",Object(c.jsx)("br",{}),Object(c.jsx)("input",{className:U.a.contactInput,type:"text",name:"number",value:n,onChange:this.handleChange})]}),Object(c.jsx)("br",{}),Object(c.jsx)(T,{label:"Add contact",type:"submit"}),Object(c.jsx)(d.a,{in:null!==a,timeout:250,classNames:M.a,unmountOnExit:!0,children:Object(c.jsx)(R,{message:a})})]})}}]),n}(r.a.Component),G=Object(i.b)((function(t){return{items:z.getAllContacts(t)}}),(function(t){return{onSubmit:function(e,n){return t(I.addContact(e,n))}}}))(B),J=n(85),Q=n(16),X=n.n(Q),W=Object(i.b)((function(t){return{contacts:z.getFilterContacts(t)}}),(function(t){return{onDelete:function(e){return t(I.deleteContact(e))}}}))((function(t){var e=t.contacts,n=t.onDelete;return Object(c.jsx)(J.a,{component:"ul",children:e.map((function(t){var e=t.id,a=t.name,r=t.number;return Object(c.jsx)(d.a,{timeout:250,classNames:X.a,children:Object(c.jsxs)("li",{className:X.a.contactList,id:e,children:[Object(c.jsx)("p",{className:X.a.contactText,children:a}),Object(c.jsx)("p",{className:X.a.contactText,children:r}),Object(c.jsx)(T,{label:"Delete",onClick:function(){return n(e)}})]})},e)}))})})),Y=n(17),Z=n.n(Y),$={onChangeFilter:L},tt=Object(i.b)((function(t){return{name:z.getFilterName(t),items:z.getAllContacts(t)}}),$)((function(t){var e=t.items,n=t.name,a=t.onChangeFilter;return Object(c.jsx)(d.a,{in:e.length>=2,timeout:250,classNames:Z.a,unmountOnExit:!0,children:Object(c.jsx)("div",{className:Z.a.container,children:Object(c.jsxs)("label",{className:Z.a.labelFilter,children:["Find contacts by name",Object(c.jsx)("br",{}),Object(c.jsx)("input",{className:Z.a.filterInput,type:"text",value:n,onChange:function(t){return a(t.target.value)}})]})})})})),et=n(31),nt=n.n(et),ct=function(){return Object(c.jsx)(d.a,{in:!0,appear:!0,timeout:500,classNames:nt.a,children:Object(c.jsx)("header",{children:Object(c.jsx)("h1",{className:nt.a.logo,children:"Phonebook"})})})},at=n(32),rt=n.n(at),ot=function(t){Object(b.a)(n,t);var e=Object(j.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)(ct,{}),this.props.loadingContacts&&Object(c.jsx)("h2",{className:rt.a.loading,children:"Loading..."}),Object(c.jsxs)("div",{className:rt.a.container,children:[Object(c.jsx)(G,{}),Object(c.jsx)(tt,{}),Object(c.jsx)(W,{})]})]})}}]),n}(a.Component),st=Object(i.b)((function(t){return{loadingContacts:z.getLoading(t)}}),(function(t){return{fetchContacts:function(){return t(I.fetchContacts())}}}))(ot),it=n(24),ut=n(45),lt=n.n(ut),bt=n(10),jt=n(3),mt={items:[],filter:""},dt=Object(_.c)(mt.items,(y={},Object(m.a)(y,p,(function(t,e){return e.payload})),Object(m.a)(y,C,(function(t,e){return[e.payload].concat(Object(it.a)(t))})),Object(m.a)(y,A,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),y)),ft=Object(_.c)(!1,(S={},Object(m.a)(S,h,(function(){return!0})),Object(m.a)(S,p,(function(){return!1})),Object(m.a)(S,x,(function(){return!1})),Object(m.a)(S,g,(function(){return!0})),Object(m.a)(S,C,(function(){return!1})),Object(m.a)(S,v,(function(){return!1})),Object(m.a)(S,F,(function(){return!0})),Object(m.a)(S,A,(function(){return!1})),Object(m.a)(S,N,(function(){return!1})),S)),Ot=Object(_.c)(mt.filter,Object(m.a)({},L,(function(t,e){return e.payload}))),_t=Object(jt.c)({items:dt,filter:Ot,loading:ft}),ht=[].concat(Object(it.a)(Object(_.d)({serializableCheck:{ignoredActions:[bt.a,bt.f,bt.b,bt.c,bt.d,bt.e]}})),[lt.a]),pt={store:Object(_.a)({reducer:{contacts:_t},middleware:ht,devTools:!1})};s.a.render(Object(c.jsx)(i.a,{store:pt.store,children:Object(c.jsx)(st,{})}),document.querySelector("#root"))}},[[83,1,2]]]);
//# sourceMappingURL=main.ac2abfac.chunk.js.map